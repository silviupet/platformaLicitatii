{% extends 'base.html.twig' %}

{% block title %}Product{% endblock %}

{% block body %}
    <h1>Product</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>ProductId</th>
                <td>{{ product.productId }}</td>
            </tr>
            <tr>
                <th>UserId</th>
                <td>{{ product.userId }}</td>
            </tr>
            <tr>
                <th>ProductTitle</th>
                <td>{{ product.productTitle }}</td>
            </tr>
            <tr>
                <th>ProductDescription</th>
                <td>{{ product.productDescription }}</td>
            </tr>
            <tr>
                <th>PhotoA</th>
                <td> <div id="photoA"><img style="max-width: 200px" src="/uploads/{{ product.photoA }}"</div></td>
{#                <div id="photoA"><img style="max-width: 200px" src="/uploads/{{ product.photoA }}"</div> #}
            </tr>
            <tr>
                <th>PhotoB</th>
                <td><div id="photoB"><img style="max-width: 200px" src="/uploads/{{ product.photoB }}"</div></td>
            </tr>
            <tr>
                <th>PhotoC</th>
                <td><div id="photoC"><img style="max-width: 200px" src="/uploads/{{ product.photoC }}"</div></td>
            </tr>
            <tr>
                <th>PhotoD</th>
                <td><div id="photoD"><img style="max-width: 200px" src="/uploads/{{ product.photoD }}"</div></td>
            </tr>
            <tr>
                <th>PhotoE</th>
                <td><div id="photoE"><img style="max-width: 200px" src="/uploads/{{ product.photoE }}"</div></td>
            </tr>
            <tr>
                <th>PhotoF</th>
                <td><div id="photoF"><img style="max-width: 200px" src="/uploads/{{ product.photoF }}"</div></td>
            </tr>
            <tr>
                <th>Category</th>
                <td>{{ product.category }}</td>
            </tr>
            <tr>
                <th>pret pornire</th>
                <td>{{ product.pretPornire }}</td>
            </tr>
            <tr>
                <th>Data stop</th>
               <td>{{ product.dataStop.format('Y-m-d') }}</td>
            </tr>
             <tr>
                <th>Ultimul pret licitat</th>
               <td>{{ product.ultimulPretLicitat }}</td>
            </tr>
        </tbody>
    </table>
        
 <form id ="ad_form" method ="POST" action="{{path('addLicitatie', {'productId': product.productId})}}">
{# action="{{path('addLicitatie')}}" ca sa adaugam numele rutei si nu ruta definita la LicitatieController     #}
  <input type="number" min= "1" name ="pretLicitat" id="myInput" placeholder="Pret licitat..." required>
{# name ="pretLicitat" a fost definit in LicitatieController cand luam postul $pretLicitat = $request->request->get('pretLicitat') #}
{#<input type="hidden"  name="productId" value="{{product.getProductId()}}">#}
<span onclick="document.getElementById('ad_form').submit()" class="addBtn">Liciteaza</span>
{#aici e o forma de a nu avea buton- pt ca e greu de stilizat si la sfarsitul unui element
 se pune un span care la onclick face metoda submit()#}

 
{#se pune type hidden - pentru ca prin acest request sa putem lua id produsului din value prin campul name- care va si importat in php#}
{#exista 2 moduri de a trimite Id produsului in controller
1. cu input tipe hidden si avole luat cu $request->request->get('productId')
2. cu action="{{path('addLicitatie', {'productId': product.productId})}} si acolo luat cu $request->request->get('productId')"#}
  </form>    

          
    <a href="{{ path('product_index') }}">back to list</a>
 {% if is_granted('ROLE_ADMIN') %}   
    <a href="{{ path('product_edit', {'productId': product.productId}) }}">edit</a>
{% endif %}
 {% if is_granted('ROLE_ADMIN') %}   
    {{ include('product/_delete_form.html.twig') }}
    {%endif%}
{% endblock %}
